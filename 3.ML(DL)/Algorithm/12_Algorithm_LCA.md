# 최소 공통 조상

- Lowest Common Ancestor

## 동작과정

1. 모든 노드에 대한 깊이(depth) 계산 (DFS 연산 사용)
2. 최소 공통조상을 찾을 두 노드 확인
   1. 두 노드의 깊이가 동일하도록 거슬러 올라감
      (낮은 노드를 높은 노드의 위치까지 일단 올라감)
   2. 부모가 같아질 때까지 반복적으로 두 노드의 부모 방향으로 거슬러 올라감
      (깊이가 같은 두 노드가 같이 올라가며 부모를 찾음)
3. 모든 LCA(a,b)연산에 대하여 2번 과정 반복

## 성능

- 시간복잡도: O(N) (매 쿼리마다 부모방향으로 거슬러 올라가기)
  					O(NM) (모든 쿼리를 처리할 때)

## 개선

- 2의 제곱형태로 거슬러 올라가도록 하면 O(logN)의 시간복잡도 보장
- 메모리 더 쓰고, 시간은 줄어드는 트레이드 오프 발생

- 다이나믹 프로그래밍
  세그먼트 트리
  - 시간복잡도: O(logN) (매 쿼리마다 부모방향으로 거슬러 올라가기)
    					O(MlogN) (모든 쿼리를 처리할 때)